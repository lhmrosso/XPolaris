---
output: github_document
bibliography: citations/citations.bib
csl: citations/citationstyle.csl
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# XPolaris

<!-- badges: start -->
[![Travis build status](https://travis-ci.com/lhmrosso/XPolaris.svg?branch=master)](https://travis-ci.com/lhmrosso/XPolaris)
<!-- badges: end -->

<img src="man/figures/xpolaris.png" height="250" align="right"/>

The _XPolaris_ package aims to facilitate the access to detailed soil data at any geographical location within the United States (US). The [__POLARIS__](http://hydrology.cee.duke.edu/POLARIS/) database comprises a 30-meter probabilistic soil series map of the contiguous United States (US). It represents an optimization of the Soil Survey Geographic (SSURGO) database, circumventing issues of spatial disaggregation, harmonizing, and filling spatial gaps [@Chan16;@Chan19]. Without the need of advanced skills on R-programming, users will be able to convert raster data into traditional spreadsheet format for further data analysis. 

## Installation

You can install the released version of XPolaris from [CRAN](https://CRAN.R-project.org) with:

``` r
install.packages("XPolaris")
```

And the development version from [GitHub](https://github.com/) with:

``` r
# install.packages("devtools")
devtools::install_github("lhmrosso/XPolaris")
```
## Example

After loading the package, users must create a `data.frame` object containing three columns (`ID`, `lat`, and `long`). Locations IDs must be unique alphanumerical identifiers, and latitude and longitude coordinates must be supplied as decimal degrees. The package comes with example locations in the Kansas State, assigned to the `exkansas` object.

```{r example}
library(XPolaris)
print(exkansas)
```

The package is composed by three R functions:  
1) `xplot`: generates a map displaying the rater images from which locations will be retrieved;  
2) `ximages`: downloads the images from the POLARIS database to the user's local machine;    
3) `xsoil`: extracts the soil data from raster images and creater a `data.frame` object.

``` r
# Generates plot
xplot(exkansas)

# Downloading POLARIS images
df_ximages <- ximages(exkansas)

# Retrieving raster soil data
df_xsoil <- xsoil(df_ximages)
```

## References
